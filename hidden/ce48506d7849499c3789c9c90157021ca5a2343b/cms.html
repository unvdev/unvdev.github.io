<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <title>CMS</title>
    <style>
        :focus {
            outline: none;
        }

        .cms-menu-bar {
            display: block;
            position: fixed;
            top: 0;
            background-color: blue;
            height: 40px;
            width: 100vw;
            z-index: 1000000;
            padding: 5px;
        }

        .selected {
            position: relative;
            cursor: move !important;
        }

.selected {
  position: relative;
}

.selected::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  box-shadow: inset 0 0 0 2px magenta;
  z-index: 9998; /* sits below label */
}

.selected::after {
  content: attr(data-name);
  position: absolute;
  top: -20px; /* move above the element border */
  left: 50%;
  transform: translateX(-50%);
  background: magenta;
  color: white;
  font-size: 12px;
  font-weight: bold;
  padding: 1px 8px;
  pointer-events: none;
  z-index: 9999;
  white-space: nowrap;
}

        .building-block {
            cursor: pointer;
        }

        .placeholder-block {
            display: block;
            position: relative;
            margin-top: 1rem;
            margin-bottom: 1rem;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
            height: 40px;
            max-width: calc(100% - 2rem);
            background-color: silver;
            cursor: pointer;
        }

        .placeholder-block::before {
            content: '+';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Arial';
            font-weight: bold;
            font-size: 36px;
            color: whitesmoke;
            cursor: inherit;
        }

        .placeholder-block:hover {
            background-color: magenta;
        }

        .building-environment {
            padding: 1rem !important;
        }

        /* CMS CSS Testing */

        .content-show {
            display: block !important;
        }

        .content-hide {
            display: none !important;
        }

        .cms-content-show {
            display: grid;
        }

        .cms-menu {
            display: block;
        }

        /* CMS */

        .cms-menu-container {
            display: block;
            position: fixed;
            width: 280px;
            height: 700px;
            left: 0%;
            top: 50%;
            transform: translateY(-50%);
            background-color: whitesmoke;
            box-sizing: border-box;
            z-index: 9999999999;
        }

        .cms-menu-item-container {
            display: block;
            position: relative;
        }

        .cms-menu-item {
            display: block;
            position: relative;
            width: 100%;
            height: 50px;
            font-family: 'Arial';
            font-size: 20px;
            text-align: center;
            color: DarkGray;
            box-shadow: 0 1px 0 0 silver inset, 0 -1px 0 0 silver inset;
            box-sizing: border-box;
            align-content: center;
        }

        .cms-menu-item:nth-child(1) {
            box-shadow: 0 -1px 0 0 silver inset !important;
        }

        .cms-menu-item:last-child {
            box-shadow: 0 1px 0 0 silver inset !important;
        }

        .cms-menu-item:hover {
            color: whitesmoke;
            background-color: magenta;
        }

        .cms-menu-secondary-container {
            display: none;
            position: fixed;
            width: 280px;
            height: 700px;
            left: 280px;
            top: 50%;
            transform: translateY(-50%);
            background-color: whitesmoke;
            box-shadow: 2px 0 0 0 silver inset;
            box-sizing: border-box;
            z-index: 9999999999;
        }

        .cms-menu-item:hover .cms-menu-secondary-container {
            display: block;
        }

        .cms-menu-secondary-container:hover {
            display: block;
        }

        .cms-menu-secondary-item-container {
            display: block;
            position: relative;
        }

        /* Text Editor Popup */
        .text-editor-pop {
            display: block;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 760px;
            height: 600px;
            background-color: whitesmoke;
            z-index: 99999999999999;
            box-sizing: border-box;
        }

        /* Quill Toolbar */
        .ql-toolbar {
            position: relative;
            top: 0;
            left: 0;
            width: 100%;
            background-color: white;
        }

        /* Quill Editor */
        .ql-editor {
            max-height: 550px !important;
            overflow-y: auto;
            padding: 10px;
        }

        .ql-container.ql-snow {
            border: none !important;
        }

        /* Limit height of the font dropdown and enable scrolling */
        .ql-snow .ql-picker.ql-font .ql-picker-options {
            max-height: 550px;
            /* your desired height */
            overflow-y: auto;
            /* adds scrollbar when content exceeds height */
        }

        .ql-snow .ql-picker.ql-font .ql-picker-options::-webkit-scrollbar {
            width: 8px;
        }

        .ql-snow .ql-picker.ql-font .ql-picker-options::-webkit-scrollbar-thumb {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
        }

        .ql-font .ql-picker-label {
            white-space: nowrap;
            /* Prevent line breaks */
            overflow: hidden;
            /* Hide overflowing text */
            text-overflow: ellipsis;
            /* Show "..." if text is too long */
            display: inline-block;
            /* Ensure the element respects width */
            max-width: 120px;
            /* Adjust width as needed */
            vertical-align: middle;
            /* Align nicely with the arrow */
        }

        .ql-font .ql-picker-label::before {
            content: none !important;
            /* remove Quill's default pseudo-element */
        }

        /* Main Sidebar Container */
        .style-editor-sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 250px;
            height: 100vh;
            background-color: #2c3e50;
            /* A modern dark gray */
            color: #ecf0f1;
            font-family: 'Roboto', sans-serif;
            padding: 1rem;
            box-sizing: border-box;
            z-index: 10000;
            overflow-y: auto;
            border-right: 1px solid #34495e;
        }

        .style-editor-sidebar-header {
            padding-bottom: 1rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid #34495e;
            text-align: center;
        }

        .style-editor-sidebar-header h3 {
            margin: 0;
            font-size: 1.2rem;
            color: #ffffff;
        }

        /* Section Styling */
        .style-editor-sidebar-section {
            margin-bottom: 1.5rem;
        }

        .style-editor-section-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: #95a5a6;
            text-transform: uppercase;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* General Control Group Styling */
        .style-editor-control-group {
            margin-bottom: 1rem;
        }

        .style-editor-control-group label {
            display: block;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
            color: #bdc3c7;
        }

        /* Inputs */
        .style-editor-sidebar input[type="number"],
        .style-editor-sidebar input[type="text"],
        .style-editor-sidebar select {
            width: 100%;
            padding: 8px;
            font-size: 0.9rem;
            color: #ecf0f1;
            background: #34495e;
            border: 1px solid #7f8c8d;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .style-editor-sidebar input:focus,
        .style-editor-sidebar select:focus {
            outline: none;
            border-color: magenta;
        }

        /* Input + Unit */
        .style-editor-sidebar .style-editor-input-with-unit {
            display: flex;
        }

        /* Color Picker */
        .style-editor-sidebar .style-editor-color-input-wrapper {
            display: flex;
            align-items: center;
            background: #34495e;
            border: 1px solid #7f8c8d;
            border-radius: 4px;
        }

        .style-editor-sidebar input[type="color"] {
            width: 40px;
            height: 38px;
            padding: 4px;
            border: none;
            background: transparent;
            cursor: pointer;
        }

        /* Segmented Control */
        .style-editor-sidebar .style-editor-segmented-control {
            display: flex;
            width: 100%;
        }

        .style-editor-sidebar .style-editor-segmented-control button {
            flex: 1;
            padding: 8px;
            background: #34495e;
            border: 1px solid #7f8c8d;
            color: #ecf0f1;
            cursor: pointer;
            transition: background .2s ease;
        }

        .style-editor-sidebar .style-editor-segmented-control button:first-child {
            border-radius: 4px 0 0 4px;
        }

        .style-editor-sidebar .style-editor-segmented-control button:last-child {
            border-radius: 0 4px 4px 0;
            border-left: none;
        }

        .style-editor-sidebar .style-editor-segmented-control button:not(:first-child):not(:last-child) {
            border-left: none;
        }

        .style-editor-sidebar .style-editor-segmented-control button:hover {
            background: magenta;
            border-color: magenta;
            color: #fff;
        }

        /* Padding Control */
        .style-editor-sidebar .style-editor-quad-control {
            display: grid;
            grid-template: auto auto auto / auto auto auto;
            gap: 5px;
            place-items: center;
        }

        .style-editor-sidebar .style-editor-quad-control input {
            width: 65px;
            text-align: center;
            box-sizing: border-box;
        }

        .style-editor-sidebar .style-editor-quad-top {
            grid-column: 2;
            grid-row: 1;
        }

        .style-editor-sidebar .style-editor-quad-left {
            grid-column: 1;
            grid-row: 2;
        }

        .style-editor-sidebar .quad-center-label {
            grid-column: 2;
            grid-row: 2;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #7f8c8d;
            border: 1px dashed #7f8c8d;
        }

        .style-editor-sidebar .style-editor-quad-right {
            grid-column: 3;
            grid-row: 2;
        }

        .style-editor-sidebar .style-editor-quad-bottom {
            grid-column: 2;
            grid-row: 3;
        }

         .accordion-content {
            display: block !important;
        }

        .accordion-label> :first-child::before {
            content: "\25B2" !important;
            color: magenta !important;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet" />
</head>

<body>

    <div class="cms-menu-bar">
        <input class="target-page" style="width: 300px; height: 20px;" type="text">
        <button class="load-page">Grab Page Code</button>
        <button class="delete-element">Delete Element</button>
    </div>

    <div class="cms-menu content-hide">
        <div class="cms-menu-container">
            <div class="cms-menu-item-container">
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-align-left"></i>&nbsp;&nbsp;Text Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">
                                <div id="text-element-heading-one-button"><i class="fa-solid fa-heading"></i>&nbsp;&nbsp;Heading 1</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-heading-two-button"><i class="fa-solid fa-heading"></i>&nbsp;&nbsp;Heading 2</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-heading-three-button"><i class="fa-solid fa-heading"></i>&nbsp;&nbsp;Heading 3</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-heading-four-button"><i class="fa-solid fa-heading"></i>&nbsp;&nbsp;Heading 4</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-heading-five-button"><i class="fa-solid fa-heading"></i>&nbsp;&nbsp;Heading 5</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-paragraph-button"><i class="fa-solid fa-paragraph"></i>&nbsp;&nbsp;Paragraph</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-unordered-button"><i class="fa-solid fa-list-ul"></i>&nbsp;&nbsp;Bulleted List</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="text-element-ordered-button"><i class="fa-solid fa-list-ol"></i>&nbsp;&nbsp;Numbered List</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-text"></i>&nbsp;&nbsp;Title Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">Test 6</div>
                            <div class="cms-menu-item">Test</div>
                            <div class="cms-menu-item">Test</div>
                            <div class="cms-menu-item">Test</div>
                        </div>
                    </div>
                </div>
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-image"></i>&nbsp;&nbsp;Image Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">
                                <div id="image-element-link-button"><i class="fa-solid fa-link"></i>&nbsp;&nbsp;Link</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="image-element-upload-button"><i class="fa-solid fa-upload"></i>&nbsp;&nbsp;Upload</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-images"></i>&nbsp;&nbsp;Gallery Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">Test 3</div>
                            <div class="cms-menu-item">Test</div>
                            <div class="cms-menu-item">Test</div>
                            <div class="cms-menu-item">Test</div>
                        </div>
                    </div>
                </div>
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-code"></i>&nbsp;&nbsp;Embed Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">Test 4</div>
                            <div class="cms-menu-item">Test</div>
                            <div class="cms-menu-item">Test</div>
                            <div class="cms-menu-item">Test</div>
                        </div>
                    </div>
                </div>
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-soap"></i>&nbsp;&nbsp;Cleanup Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">
                                <div id="layout-element-accordion-button"><i class="fa-solid fa-plus-minus" style="transform: rotate(180deg)"></i>&nbsp;&nbsp;Accordion</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-spacer-button"><i class="fa-solid fa-arrows-up-down"></i>&nbsp;&nbsp;Spacer</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-divider-button"><i class="fa-solid fa-minus"></i>&nbsp;&nbsp;Divider</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cms-menu-item">
                    <div><i class="fa-solid fa-table-layout"></i>&nbsp;&nbsp;Layout Element</div>
                    <div class="cms-menu-secondary-container">
                        <div class="cms-menu-secondary-item-container">
                            <div class="cms-menu-item">
                                <div id="layout-element-one-column-button"><span style="display: inline-block !important;">&#9609;</span>&nbsp;One</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-two-column-button"><span style="display: inline-block !important;">&#9609;&#9609;</span>&nbsp;Two</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-three-column-button"><span style="display: inline-block !important;">&#9609;&#9609;&#9609;</span>&nbsp;Three</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-four-column-button"><span style="display: inline-block !important;">&#9609;&#9609;&#9609;&#9609;</span>&nbsp;Four</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-five-column-button"><span style="display: inline-block !important;">&#9609;&#9609;&#9609;&#9609;&#9609;</span>&nbsp;Five</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-six-column-button"><span style="display: inline-block !important;">&#9609;&#9609;&#9609;&#9609;&#9609;&#9609;</span>&nbsp;Six</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-asymm-left-column-button"><span style="display: inline-block !important; transform: scaleX(0.58) !important; transform-origin: center; letter-spacing: -4px;">&#9609;</span><span style="display: inline-block !important; letter-spacing: 0.25px;">&#9609;</span>&nbsp;Asymm. Left</div>
                            </div>
                            <div class="cms-menu-item">
                                <div id="layout-element-asymm-right-column-button"><span style="display: inline-block !important; letter-spacing: -4px;">&#9609;</span><span style="display: inline-block !important; transform: scaleX(0.58) !important; transform-origin: center;">&#9609;</span>&nbsp;Asymm. Right</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="text-editor-pop content-hide">
        <div class="text-editor">
            <div id="quill-editor"></div>
        </div>
    </div>
<div class="style-editor-sidebar content-hide">
  <div class="style-editor-sidebar-header">
    <h3>Style Editor</h3>
  </div>

  <!-- Appearance Section -->
  <div class="style-editor-sidebar-section">
    <h4 class="style-editor-section-title">Appearance</h4>
    <div class="style-editor-control-group">
      <label for="style-editor-bg-color-input">Background Color</label>
      <div class="style-editor-color-input-wrapper">
        <input type="color" id="style-editor-bg-color-input" value="#FFFFFF">
        <span id="style-editor-bg-color-input-value" class="color-hex">#FFFFFF</span>
      </div>

      <label for="style-editor-border-color-input">Border Color</label>
      <div class="style-editor-color-input-wrapper">
        <input type="color" id="style-editor-border-color-input" value="#FFFFFF">
        <span id="style-editor-border-color-input-value" class="color-hex">#FFFFFF</span>
      </div>

      <label for="style-editor-border-input">Border Width</label>
      <div class="style-editor-input-with-unit">
        <input type="number" id="style-editor-border-width-input" value="0" min="0">
      </div>

      <label for="style-editor-radius-input">Border Radius</label>
      <div class="style-editor-input-with-unit">
        <input type="number" id="style-editor-border-radius-input" value="0" min="0">
      </div>
    </div>
  </div>

  <!-- Sizing & Alignment Section -->
  <div class="style-editor-sidebar-section">
    <h4 class="style-editor-section-title">Sizing & Alignment</h4>
    <div class="style-editor-control-group">
      <label for="style-editor-width-input">Width</label>
      <div class="style-editor-input-with-unit">
        <input type="number" id="style-editor-width-input" value="100" min="0" max="100">
      </div>
    </div>

    <div class="style-editor-control-group">
      <label>Horizontal Alignment</label>
      <div class="style-editor-segmented-control">
        <button id="style-editor-align-left-button" class="active" title="Align Left">
          <i class="fa-solid fa-align-left"></i>
        </button>
        <button id="style-editor-align-center-button" title="Align Center">
          <i class="fa-solid fa-align-center"></i>
        </button>
        <button id="style-editor-align-right-button" title="Align Right">
          <i class="fa-solid fa-align-right"></i>
        </button>
      </div>

      <div id="style-editor-vertical-align-controls" class="content-hide">
      <label>Vertical Alignment</label>
      <div class="style-editor-segmented-control">
        <button id="style-editor-align-top-button" class="active" title="Align Top">
          <i class="fa-solid fa-arrow-up"></i>
        </button>
        <button id="style-editor-align-middle-button" title="Align Middle">
          <i class="fa-solid fa-arrows-up-down"></i>
        </button>
        <button id="style-editor-align-bottom-button" title="Align Bottom">
          <i class="fa-solid fa-arrow-down"></i>
        </button>
      </div>
      </div>
    </div>
  </div>

  <!-- Spacing Section -->
  <div class="style-editor-sidebar-section">
      <h4 class="style-editor-section-title">Spacing</h4>

    <!-- Padding -->
    <div class="style-editor-control-group">
      <label for="style-editor-padding-top-input">Padding</label>
    </div>
    <div class="style-editor-quad-control">
      <input type="number" id="style-editor-padding-top-input" class="style-editor-quad-top" value="0" min="0" title="Top Padding">
      <input type="number" id="style-editor-padding-left-input" class="style-editor-quad-left" value="0" min="0" title="Left Padding">
      <div class="quad-center-label">
        <i class="fa-solid fa-vector-square"></i>
      </div>
      <input type="number" id="style-editor-padding-right-input" class="style-editor-quad-right" value="0" min="0" title="Right Padding">
      <input type="number" id="style-editor-padding-bottom-input" class="style-editor-quad-bottom" value="0" min="0" title="Bottom Padding">
    </div>

    <!-- Margin -->
    <div class="style-editor-control-group">
      <label for="style-editor-margin-top-input">Margin</label>
    </div>
    <div class="style-editor-quad-control">
      <input type="number" id="style-editor-margin-top-input" class="style-editor-quad-top" value="0" min="0" title="Top Margin">
      <input type="number" id="style-editor-margin-left-input" class="style-editor-quad-left" value="0" min="0" title="Left Margin">
      <div class="quad-center-label">
        <i class="fa-solid fa-vector-square"></i>
      </div>
      <input type="number" id="style-editor-margin-right-input" class="style-editor-quad-right" value="0" min="0" title="Right Margin">
      <input type="number" id="style-editor-margin-bottom-input" class="style-editor-quad-bottom" value="0" min="0" title="Bottom Margin">
    </div>
  </div>
</div>

    <div id="loaded-page" style="margin-top: 40px;"></div>

    <script src="https://kit.fontawesome.com/0e61fd2654.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
    <script src="cms-loader.js"></script>
    <script src="cms-core.js"></script>
    <script src="cms-menu.js"></script>
    <script src="cms-text-editor.js"></script>
    <script src="buildingblocks.js"></script>
    <script>
        let paramString = window.location.search.split('?')[1];
        let queryString = new URLSearchParams(paramString);
        let nva = parseInt(queryString.get('nva'));
        if (Number.isNaN(nva) || new Date().getTime() > nva) window.location = '/cms_login';
    </script>
</body>

</html>